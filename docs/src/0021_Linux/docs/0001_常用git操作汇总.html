<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>wugn</title>

      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/translations.js"></script>
        <script src="../../../_static/js/baidutongji.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> wugn_note
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">常用git操作汇总</a></li>
<li><a class="reference internal" href="#cherry-pick">cherry-pick技巧</a></li>
<li><a class="reference internal" href="#id1">cherry-pick挑选中间几个</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">wugn_note</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs"> 
<li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
<li>常用git操作汇总</li>
<li style="float: right;margin-left: 10px;"><a href="javascript:history.forward()">Forward</a></li>
<li style="float: right;margin-left: 10px;"><a href="javascript:history.back()">Go Back</a> | </li>
<li style="float: right;margin-left: 10px;"><a href="/index.html">Home</a> | </li>

      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="git">
<h1>常用git操作汇总<a class="headerlink" href="#git" title="此标题的永久链接"></a></h1>
<p>总结以下常用的git命令</p>
</section>
<section id="cherry-pick">
<h1>cherry-pick技巧<a class="headerlink" href="#cherry-pick" title="此标题的永久链接"></a></h1>
<ul class="simple">
<li><p>git cherry-pick <commit id>:单独合并一个提交</p></li>
<li><p>git cherry-pick -x <commit id>：同上，不同点：保留原提交者信息。</p></li>
<li><p>如果有100个commit要合并到master分支呢？</p></li>
<li><p>git cherry-pick commit1..commit100</p></li>
</ul>
<p>但是要注意，这是一个左开右闭的操作，也就是说，commit1不会被合并到master分支，而commit100则会。这样的话上面的需求可以如下操作来实现：</p>
<p>注意：上面讲到cherry-pick命令每拣选一个commit就会提交一次生成一个新的commit id。 如果我们想让每个commit 拣选后暂缓提交，等到所有commit都拣选完成后，自己手动commit，应该怎么办呢？答案是用-n 选项。</p>
</section>
<section id="id1">
<h1>cherry-pick挑选中间几个<a class="headerlink" href="#id1" title="此标题的永久链接"></a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://www.cnblogs.com/czp2016/p/15661741.html">notepad++ 去掉包含某个字符串的所有行</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/qq_38516799/article/details/105371700">Notepad++常用操作——去除每行某字符串后面的内容</a></p></li>
<li><p>git log –oneline -100 origin/pax_branch</p></li>
</ul>
<p><img alt="0001_0013.png" src="../../../_images/0001_00131.png" /></p>
<ul class="simple">
<li><p>需要使用正则<code class="docutils literal notranslate"><span class="pre">^.*合并分支.*\r?\n</span></code>删除合并选项：</p></li>
</ul>
<p><img alt="0001_0014.png" src="../../../_images/0001_00141.png" /></p>
<ul class="simple">
<li><p>正则<code class="docutils literal notranslate"><span class="pre">Title.*</span></code>去除每行<code class="docutils literal notranslate"><span class="pre">Title</span></code>字符串后面的内容:</p></li>
</ul>
<p><img alt="0001_0015.png" src="../../../_images/0001_00151.png" /></p>
<ul class="simple">
<li><p>使用notepad合并行功能，多列变一行：</p></li>
</ul>
<p><img alt="0001_0016.png" src="../../../_images/0001_00161.png" /></p>
<ul class="simple">
<li><p>出现合并冲突：</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>wugn@jcrj-tf-compile:M8-project$ git cherry-pick 0619b9a1654 693bcfccc52 3dbcb58221f 6b8e1012aae d9d538d2852 aad224920b0 48d3db20ff2 f30f9b88cdc c9c8d4a6736 b62fd77488a <span class="m">59811608877</span> 558424e8ce5 f9e3f4f015d a78cca900c9 723c5811ab0 dc823540baa d10b540b41d 11a79046a42 a1f792ce6d1 e781c6b2cc8 c5e6bef5831 7e951688844 389c6ee8f66 7a5f76e3b0c f5864341155 f0189c741f1 41934ce1e44 113e1273d34 3fc18a796db a651ea18092 9d8e72917bd 46dd0ae98ad d8e434500d4 6f0170c5bbf f24becdfd76 06337f7555d 15a34dfefdb 62ac5854c48 9e826c0f828 df11ef34c56 f359de847cc 139d935a070 0ff1dd457f6 3de6d57bd68 65e28e7f8d6 29e38a3ef22 32c69782cfc e415b98a9b6

Performing inexact rename detection: <span class="m">100</span>% <span class="o">(</span><span class="m">1188</span>/1188<span class="o">)</span>, <span class="k">done</span>.
error: could not apply 0619b9a1654... <span class="o">[</span>Title<span class="o">]</span>:Optimize:edm在注入rki时候增加同步时间的接口
hint: after resolving the conflicts, mark the corrected paths
hint: with <span class="s1">&#39;git add &lt;paths&gt;&#39;</span> or <span class="s1">&#39;git rm &lt;paths&gt;&#39;</span>
hint: and commit the result with <span class="s1">&#39;git commit&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>git diff :</p></li>
</ul>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- a/paxdroid/packages/apps/edm/Android.mk</span><span class="w"></span>
<span class="gi">+++ b/paxdroid/packages/apps/edm/Android.mk</span><span class="w"></span>
<span class="gu">@@@ -7,7 -7,7 +7,11 @@@ LOCAL_MODULE_SUFFIX := $(COMMON_ANDROID</span><span class="w"></span>
<span class="w"> </span> #LOCAL_PRIVILEGED_MODULE :=<span class="w"></span>
<span class="w"> </span> LOCAL_PRODUCT_MODULE := true<span class="w"></span>
<span class="w"> </span> LOCAL_CERTIFICATE := platform<span class="w"></span>
<span class="gi">++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><span class="w"></span>
<span class="w"> </span>+LOCAL_SRC_FILES := EDM_V2.00.00_20220809_release.apk<span class="w"></span>
<span class="gi">++=======</span><span class="w"></span>
<span class="gi">+ LOCAL_SRC_FILES := EDM_V2.00.00_20221024_release.apk</span><span class="w"></span>
<span class="gi">++&gt;&gt;&gt;&gt;&gt;&gt;&gt; 0619b9a1654... [Title]:Optimize:edm在注入rki时候增加同步时间的接口</span><span class="w"></span>
<span class="w"> </span> LOCAL_MODULE_PATH := $(TARGET_OUT_VENDOR)/operator/app<span class="w"></span>
<span class="w"> </span> LOCAL_DEX_PREOPT := false<span class="w"></span>
<span class="w"> </span> #LOCAL_REQUIRED_MODULES :=<span class="w"></span>
<span class="w">* Unmerged path paxdroid/packages/apps/edm/EDM_V2.00.00_20220809_release.apk</span>
<span class="w">* Unmerged path paxdroid/packages/apps/edm/EDM_V2.00.00_20220923_release.apk</span>
<span class="w">* Unmerged path paxdroid/packages/apps/edm/EDM_V2.00.00_20221024_release.apk</span>
</pre></div>
</div>
<ul class="simple">
<li><p>解决第一个冲突后添加：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wugn@jcrj-tf-compile:M8-project$ rm paxdroid/packages/apps/edm/EDM_V2.00.00_20220809_release.apk
wugn@jcrj-tf-compile:M8-project$ rm paxdroid/packages/apps/edm/EDM_V2.00.00_20220923_release.apk
git add paxdroid/packages/apps/edm
</pre></div>
</div>
<ul class="simple">
<li><p>git commit:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>wugn@jcrj-tf-compile:M8-project$ git commit
<span class="o">[</span>product e7c56eaa002<span class="o">]</span> <span class="o">[</span>Title<span class="o">]</span>:Optimize:edm在注入rki时候增加同步时间的接口
 Author: lib &lt;lib@paxsz.com&gt;
 Date: Mon Oct <span class="m">24</span> <span class="m">23</span>:37:33 <span class="m">2022</span> +0800
 <span class="m">4</span> files changed, <span class="m">1</span> insertion<span class="o">(</span>+<span class="o">)</span>, <span class="m">1</span> deletion<span class="o">(</span>-<span class="o">)</span>
 rename paxdroid/packages/apps/edm/<span class="o">{</span>EDM_V2.00.00_20220809_release.apk <span class="o">=</span>&gt; EDM_V2.00.00_20221024_release.apk<span class="o">}</span> <span class="o">(</span><span class="m">88</span>%<span class="o">)</span>
 create mode <span class="m">100755</span> paxdroid/packages/apps/edm/EDM_V2.00.00_20221026_release.apk
 create mode <span class="m">100755</span> paxdroid/packages/apps/edm/edmsource/common_lib/libs/libusbmonitor_20221022094026.jar
</pre></div>
</div>
<ul class="simple">
<li><p>git cherry-pick –continue:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wugn@jcrj-tf-compile:M8-project$ git cherry-pick --continue
[product 4de6948cd26] [Title]:EEA版本编译OTA包时包含eea版本key。
 Date: Mon Oct 24 12:37:36 2022 +0800
 2 files changed, 28 insertions(+)
error: could not apply 3dbcb58221f... [Title]:将preloader和tee镜像不做paydroid tool升级。
hint: after resolving the conflicts, mark the corrected paths
hint: with &#39;git add &lt;paths&gt;&#39; or &#39;git rm &lt;paths&gt;&#39;
hint: and commit the result with &#39;git commit&#39;

wugn@jcrj-tf-compile:M8-project$ vim vendor/mediatek/proprietary/buildinfo_vnd/label.ini
wugn@jcrj-tf-compile:M8-project$ vim vendor/mediatek/proprietary/buildinfo_vnd/label_eea.ini
wugn@jcrj-tf-compile:M8-project$ git add vendor/mediatek/proprietary/buildinfo_vnd
wugn@jcrj-tf-compile:M8-project$ git commit
[product 73f6417b816] [Title]:将preloader和tee镜像不做paydroid tool升级。
 Date: Sat Oct 22 16:31:03 2022 +0800
 11 files changed, 40 insertions(+), 12 deletions(-)
 create mode 100755 selfbuild_modem
</pre></div>
</div>
<p>一个一个的修改就好了。</p>
</section>


           </div>
             <div class="articleComments">
                <comments>
  <script src="https://utteranc.es/client.js"
    repo="iswbm/magic-python"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>
</comments>
             </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, wugn.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
  

<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id: "JoV5csIHTGhHiGQ4",ck: "JoV5csIHTGhHiGQ4"})</script>

<br/>
<script id="LA-DATA-WIDGET" crossorigin="anonymous" charset="UTF-8" src="https://v6-widget.51.la/v6/JoV5csIHTGhHiGQ4/quote.js?theme=#4C8AC2,#BB2626,#040000,#333333,#AE3535,#1690FF,14&f=14"></script>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>